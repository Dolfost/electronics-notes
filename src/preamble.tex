% !TeX root = document.tex
\documentclass[12pt]{report}

\input{build/cmake}

\usepackage{polyglossia}
\setmainfont{CMU Serif}
\setsansfont{CMU Sans Serif}
\setmonofont{JuliaMono-Regular.ttf}[
	Path = resources/fonts/JuliaMono/,
	BoldFont = JuliaMono-Bold.ttf,
	ItalicFont = JuliaMono-LightItalic.ttf,
	BoldItalicFont = JuliaMono-BoldItalic.ttf ]
\setmainlanguage{english}

\usepackage{geometry}
\geometry{
	paper=a4paper,
	inner=10mm, outer=10mm, top=20mm, bottom=20mm, 
	bindingoffset=0mm,
	headheight=6mm,
	includehead=false, includefoot=false, portrait,
	% twoside
}

\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage{subcaption}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{rotating}

\usepackage{siunitx}

\usepackage[svgnames]{xcolor}
\usepackage{blindtext}
\usepackage[useregional]{datetime2}
\usepackage{syntonly}

\usepackage{array}
\renewcommand{\arraystretch}{1.5}
\usepackage{booktabs}
\usepackage{nicematrix}
\usepackage{multirow}
\usepackage[originalparameters]{ragged2e}
\usepackage{changepage}
\usepackage{verbatim}

\usepackage{amsmath}
\allowdisplaybreaks[3]
\usepackage{cancel}
\usepackage{mathtools}
\usepackage{amsfonts}
\usepackage[e]{esvect}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\lcm}{lcm}
\DeclareMathOperator{\pr}{pr}
\DeclareMathOperator{\arccot}{arccot}
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\med}{MED}
\DeclareMathOperator{\mad}{MAD}
\DeclareMathOperator{\cov}{cov}

\usepackage{enumitem}
\setlist{noitemsep, itemsep=1pt, topsep=1pt, labelsep=2pt}

\usepackage{caption}
\captionsetup{%
	skip=-2mm, 
}

\usepackage{titlesec}
\usepackage{extramarks}
\usepackage{fancyhdr}
\fancyhf{}
\fancyhead[R]{\nouppercase{\firstleftmark}} 
\fancyfoot[C]{\ttfamily\thepage{}}
\pagestyle{fancy}
\fancypagestyle{plain}{%
	\fancyhf{}%
	\fancyfoot[C]{\ttfamily\thepage{}}%
	\renewcommand{\headrulewidth}{0pt}%
}

\usepackage[outputdir=build/aux]{minted}
\usemintedstyle{gruvbox-light}
\setminted{%
	linenos=true,
	autogobble,
	breaklines,
	tabsize=2,
	bgcolor=GhostWhite,
	fontsize=\scriptsize,
	curlyquotes=true,
	mathescape,
}
\setmintedinline{%
	bgcolor=White,
	mathescape,
}
\newmintinline[cinl]{c}{}
\newmintinline[cppinl]{cpp}{}
\newmintinline[pyinl]{py}{}
\newmintinline[csinl]{cs}{}
\newmintinline[luainl]{lua}{}
\newmintinline[sqlinl]{sql}{}
\newmintinline[textinl]{text}{}
\newenvironment{longlisting}{\captionsetup{type=listing}}{}

\usepackage[autostyle]{csquotes}
\usepackage[nottoc]{tocbibind}
\usepackage[sorting=none]{biblatex}

\usepackage[titletoc, toc, title]{appendix}

\usepackage{imakeidx}
\indexsetup{firstpagestyle=fancy}
\makeindex[options=-s iso]

\usepackage{hyperref}
\usepackage{cleveref}
\hypersetup{%
	colorlinks=true,
	linkcolor=PaleVioletRed,
	citecolor=PaleVioletRed,
	raiselinks=true,
	pdfview=XYZ,
	pdfviewarea=TrimBox,
	linktocpage=true,
	urlcolor=Teal,
}

\usepackage{xr}
\usepackage{subfiles}
\externaldocument[M-]{\subfix{document}}

\counterwithin{listing}{chapter}
% \setcounter{tocdepth}{5}
% \setcounter{secnumdepth}{3}
% \numberwithin{equation}{chapter}

\addto\captionsukrainian{%
  \renewcommand{\listingscaption}{Лис.}%
  \renewcommand{\listoflistingscaption}{Перелік листингів}%
	\renewcommand{\appendixtocname}{Додатки} 
	\renewcommand{\appendixpagename}{Додатки}
}
